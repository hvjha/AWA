-- Using a particular role
USE ROLE ACCOUNTADMIN;


--Using a particular available warehouse for computing
USE WAREHOUSE COMPUTE_WH;

--CREATING DATABASE
CREATE DATABASE IF NOT EXISTS CLASS_3;

--CREATING A SCHEMA
CREATE SCHEMA IF NOT EXISTS CLASS_3_SCHEMA;

--USING THE ABOVE CREATED DATABASE AND SCHEMA
USE DATABASE CLASS_3;
USE SCHEMA CLASS_3_SCHEMA;

--WE ARE NOT CREATED TABLE SCHEMA HERE
SELECT * FROM CUSTOMERS;
SELECT * FROM MARKET;
SELECT * FROM PRODUCT;
SELECT * FROM TRANSACTION;

--DROP TABLE CUSTOMER
DROP TABLE CUSTOMERS;

--Create database Globalstore
CREATE DATABASE IF NOT EXISTS GLOBALSTOREDATA;
CREATE SCHEMA IF NOT EXISTS GLOBALSTORE_SCHEMA;
USE DATABASE GLOBALSTOREDATA;
USE SCHEMA GLOBALSTORE_SCHEMA;

CREATE TABLE IF NOT EXISTS customers(
    customer_code VARCHAR(10),
    customer_name VARCHAR(20),
    customer_type VARCHAR(15),
    PRIMARY KEY (customer_code)
);

SELECT * FROM customers;

CREATE TABLE IF NOT EXISTS markets(
    market_code VARCHAR(20),
    market_name VARCHAR(100),
    zone VARCHAR(20),
    PRIMARY KEY (market_code)
);

CREATE TABLE IF NOT EXISTS products(
    product_code VARCHAR(20),
    product_type VARCHAR(100),
    PRIMARY KEY (product_code)
);

CREATE TABLE IF NOT EXISTS transactions(
    product_code VARCHAR(20),
    customer_code VARCHAR(10),
    market_code VARCHAR(20),
    order_dete DATE,
    sales_qty NUMBER,
    sales_amount NUMBER,
    currency VARCHAR(30),
    FOREIGN KEY (product_code) REFERENCES products(product_code),
    FOREIGN KEY (customer_code) REFERENCES customers(customer_code),
    FOREIGN KEY (market_code) REFERENCES markets(market_code)
);

SHOW TABLES;
SELECT * FROM markets;
SELECT * FROM products;
SELECT * FROM transactions

